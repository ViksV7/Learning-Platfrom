import{u as z,r as d,j as e,B as A,S as M,T as I,a as U,C as E,b as L,c as x,d as F,U as W,e as J}from"./index-Bl4qWssz.js";const K=n=>{const{user:o}=z(),[N,u]=d.useState([]),[b,p]=d.useState([]),[y,v]=d.useState([]),[w,m]=d.useState(!0),c=[{id:"1",title:"Advanced React Patterns",instructor:"Sarah Johnson",rating:4.8,students:2341,price:35e3,thumbnail:"/placeholder.svg?height=200&width=300",category:"Web Development",level:"Advanced",duration:"6 weeks",tags:["react","javascript","frontend","patterns"]},{id:"2",title:"Machine Learning Fundamentals",instructor:"Dr. Amit Kumar",rating:4.9,students:1876,price:45e3,thumbnail:"/placeholder.svg?height=200&width=300",category:"AI/ML",level:"Beginner",duration:"8 weeks",tags:["machine-learning","python","ai","data-science"]},{id:"3",title:"Cloud Architecture Mastery",instructor:"Michael Chen",rating:4.7,students:1543,price:55e3,thumbnail:"/placeholder.svg?height=200&width=300",category:"Cloud Computing",level:"Intermediate",duration:"10 weeks",tags:["aws","cloud","architecture","devops"]},{id:"4",title:"Mobile App Development with Flutter",instructor:"Priya Patel",rating:4.6,students:987,price:4e4,thumbnail:"/placeholder.svg?height=200&width=300",category:"Mobile Development",level:"Intermediate",duration:"7 weeks",tags:["flutter","dart","mobile","cross-platform"]},{id:"5",title:"Cybersecurity Essentials",instructor:"Robert Singh",rating:4.8,students:2156,price:38e3,thumbnail:"/placeholder.svg?height=200&width=300",category:"Security",level:"Beginner",duration:"5 weeks",tags:["security","ethical-hacking","networking","privacy"]},{id:"6",title:"Data Visualization with D3.js",instructor:"Lisa Wang",rating:4.5,students:743,price:32e3,thumbnail:"/placeholder.svg?height=200&width=300",category:"Data Science",level:"Advanced",duration:"4 weeks",tags:["d3js","visualization","javascript","data"]}],j=async()=>{if(m(!0),await new Promise(a=>setTimeout(a,1e3)),!o){const a=c.sort((r,k)=>k.students-r.students).slice(0,4);p(a),u([]),v([]),m(!1);return}const s=C(o),i=S(o),l=c.map(a=>({...a,score:f(a,s,i)})).filter(a=>!o.enrolledCourses.includes(a.id)).sort((a,r)=>r.score-a.score).slice(0,4),g=c.filter(a=>!o.enrolledCourses.includes(a.id)).sort((a,r)=>r.students-a.students).slice(0,4);let h=[];if(n){const a=c.find(r=>r.id===n);a&&(h=R(a,c).filter(r=>r.id!==n&&!o.enrolledCourses.includes(r.id)).slice(0,4))}u(l),p(g),v(h),m(!1)},C=s=>{const i=s.enrolledCourses||[],t=[];return i.forEach(l=>{const g=c.find(h=>h.id===l);g&&t.push(...g.tags)}),[...new Set(t)]},S=s=>{var t;const i=((t=s.enrolledCourses)==null?void 0:t.length)||0;return i===0||i<=2?"Beginner":i<=5?"Intermediate":"Advanced"},f=(s,i,t)=>{let l=0;const g=s.tags.filter(r=>i.some(k=>k.toLowerCase().includes(r.toLowerCase()))).length;l+=g/s.tags.length*40;const h=s.level===t?25:s.level==="Beginner"&&t==="Intermediate"||s.level==="Intermediate"&&t==="Advanced"?15:5;l+=h;const a=Math.max(...c.map(r=>r.students));return l+=s.students/a*20,l+=s.rating/5*15,l},R=(s,i)=>i.map(t=>({...t,similarity:P(s,t)})).sort((t,l)=>l.similarity-t.similarity),P=(s,i)=>{let t=0;s.category===i.category&&(t+=40);const l=s.tags.filter(h=>i.tags.includes(h));t+=l.length/Math.max(s.tags.length,i.tags.length)*35,s.level===i.level&&(t+=15);const g=Math.abs(s.rating-i.rating);return t+=Math.max(0,1-g/5)*10,t},T=()=>{j()};return d.useEffect(()=>{j()},[o,n]),{personalizedCourses:N,trendingCourses:b,similarCourses:y,isLoading:w,refreshRecommendations:T}},B=d.memo(({course:n,onEnroll:o})=>e.jsx(E,{className:"bg-gray-800/50 border-gray-700 hover:border-cyan-500/50 transition-all duration-300 group",children:e.jsxs(L,{className:"p-4",children:[e.jsx("div",{className:"aspect-video bg-gray-700 rounded-lg mb-3 overflow-hidden",children:e.jsx("img",{src:n.thumbnail||"/placeholder.svg",alt:n.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-white font-semibold text-sm line-clamp-2 group-hover:text-cyan-400 transition-colors",children:n.title}),e.jsx("p",{className:"text-gray-400 text-xs",children:n.instructor}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(F,{className:"h-3 w-3 text-yellow-400 mr-1"}),e.jsx("span",{className:"text-gray-300",children:n.rating})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(W,{className:"h-3 w-3 text-gray-400 mr-1"}),e.jsx("span",{className:"text-gray-400",children:n.students})]})]}),e.jsx(J,{variant:"outline",className:"border-cyan-400 text-cyan-400 text-xs",children:n.level})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-green-400 font-semibold",children:["â‚¹",n.price.toLocaleString()]}),e.jsx(A,{size:"sm",onClick:()=>o(n.id),className:"bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 text-xs",children:"Enroll Now"})]})]})]})}));B.displayName="CourseCard";const D=d.memo(()=>e.jsx(E,{className:"bg-gray-800/50 border-gray-700",children:e.jsxs(L,{className:"p-4",children:[e.jsx(x,{className:"aspect-video bg-gray-700 rounded-lg mb-3"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{className:"h-4 bg-gray-700"}),e.jsx(x,{className:"h-3 bg-gray-700 w-2/3"}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(x,{className:"h-3 bg-gray-700 w-1/3"}),e.jsx(x,{className:"h-3 bg-gray-700 w-1/4"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(x,{className:"h-4 bg-gray-700 w-1/4"}),e.jsx(x,{className:"h-6 bg-gray-700 w-1/3"})]})]})]})}));D.displayName="SkeletonCard";const V=d.memo(({currentCourseId:n,className:o})=>{const{user:N}=z(),{personalizedCourses:u,trendingCourses:b,similarCourses:p,isLoading:y,refreshRecommendations:v}=K(n),w=c=>{console.log("Enrolling in course:",c)},m=d.memo(({title:c,courses:j,icon:C,description:S})=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(C,{className:"h-5 w-5 text-cyan-400"}),e.jsx("h2",{className:"text-xl font-bold text-white",children:c})]}),e.jsx("p",{className:"text-gray-400 text-sm",children:S}),y?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((f,R)=>e.jsx(D,{},R))}):j.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:j.map(f=>e.jsx(B,{course:f,onEnroll:w},f.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-400",children:"No recommendations available at the moment."}),e.jsx(A,{variant:"outline",onClick:v,className:"mt-2 border-gray-600 text-gray-400",children:"Refresh Recommendations"})]})]}));return m.displayName="RecommendationSection",e.jsxs("div",{className:`space-y-8 ${o}`,children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(M,{className:"h-6 w-6 text-cyan-400"}),e.jsx("h1",{className:"text-2xl font-bold text-white",children:"AI-Powered Recommendations"})]}),e.jsx("p",{className:"text-gray-400",children:"Personalized course suggestions powered by machine learning algorithms"})]}),N&&u.length>0&&e.jsx(m,{title:"Recommended for You",courses:u,icon:I,description:"Courses tailored to your interests and learning path"}),n&&p.length>0&&e.jsx(m,{title:"Similar Courses",courses:p,icon:I,description:"Courses similar to what you're currently viewing"}),e.jsx(m,{title:"Trending Now",courses:b,icon:U,description:"Most popular courses among learners this month"}),e.jsx("div",{className:"text-center",children:e.jsxs(A,{onClick:v,variant:"outline",className:"border-cyan-400 text-cyan-400 hover:bg-cyan-400 hover:text-white",disabled:y,children:[e.jsx(M,{className:"h-4 w-4 mr-2"}),y?"Updating...":"Refresh Recommendations"]})})]})});V.displayName="AIRecommendations";export{V as default};
